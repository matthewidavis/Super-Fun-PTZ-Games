<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Fun PTZ Games</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Start Screen -->
    <div id="start-screen">
        <canvas id="particle-canvas"></canvas>
        <div class="start-content">
            <h1 class="title">FUN PTZ GAMES</h1>
            <p class="subtitle">Choose your adventure</p>

            <p class="section-label">CHOOSE YOUR THEME:</p>
            <div class="card-row">
                <div class="theme-card selected" data-theme="cats" tabindex="0">
                    <canvas class="card-icon" width="120" height="100"></canvas>
                    <div class="card-title">CATS</div>
                    <div class="card-sub">Boop cats peeking</div>
                </div>
                <div class="theme-card" data-theme="aliens" tabindex="0">
                    <canvas class="card-icon" width="120" height="100"></canvas>
                    <div class="card-title">ALIENS</div>
                    <div class="card-sub">Tag aliens hiding</div>
                </div>
            </div>

            <p class="section-label">CHOOSE YOUR MODE:</p>
            <div class="card-row mode-row">
                <div class="mode-card selected" data-mode="classic" tabindex="0">
                    <div class="mode-icon">&#127919;</div>
                    <div class="card-title">CLASSIC</div>
                    <div class="card-sub">10 shots, make them count</div>
                </div>
                <div class="mode-card" data-mode="timeAttack" tabindex="0">
                    <div class="mode-icon">&#9201;</div>
                    <div class="card-title">TIME ATTACK</div>
                    <div class="card-sub">60s, unlimited ammo</div>
                </div>
                <div class="mode-card" data-mode="survival" tabindex="0">
                    <div class="mode-icon">&#9889;</div>
                    <div class="card-title">SURVIVAL</div>
                    <div class="card-sub">Hit to earn ammo</div>
                </div>
            </div>

            <div class="source-row">
                <label class="section-label">INPUT SOURCE:</label>
                <div class="source-toggle">
                    <button class="source-btn selected" data-source="browser">Browser Camera</button>
                    <button class="source-btn" data-source="ip">IP Camera</button>
                </div>
            </div>

            <div id="browser-camera-row" class="camera-row">
                <label class="section-label" for="camera-select">CAMERA:</label>
                <select id="camera-select"><option value="">Default camera</option></select>
            </div>
            <div id="ip-camera-row" class="camera-row" style="display:none;">
                <label class="section-label" for="camera-ip">CAMERA IP:</label>
                <input id="camera-ip" type="text" placeholder="192.168.1.100">
            </div>

            <div id="high-scores-display" class="high-scores"></div>

            <button id="start-btn">START</button>
            <p id="error-msg" class="error-msg"></p>
            <p class="hints">Click Start to begin &bull; Left/Right: Theme &bull; Up/Down: Mode &bull; Tab: Source &bull; Gamepad supported</p>
        </div>
    </div>

    <!-- Game Container (hidden until start) -->
    <div id="game-container" style="display:none;">
        <video id="camera-video" autoplay playsinline muted></video>
        <canvas id="snapshot-canvas" style="display:none;"></canvas>
        <canvas id="overlay"></canvas>
        <div id="ptz-banner" style="display:none;">No PTZ support detected &mdash; game works with manual aiming</div>
    </div>

    <!-- Scripts: order matters (no ES modules) -->
    <script src="js/namespace.js"></script>
    <script src="js/config.js"></script>
    <script src="js/animations.js"></script>
    <script src="js/audio.js"></script>
    <script src="js/high-scores.js"></script>
    <script src="js/edge-detector.js"></script>
    <script src="js/target-state.js"></script>
    <script src="js/game-state.js"></script>
    <script src="js/ptz-controller.js"></script>
    <script src="js/snapshot-source.js"></script>
    <script src="js/http-ptz-controller.js"></script>
    <script src="js/input-manager.js"></script>
    <script src="js/renderer.js"></script>
    <script src="js/start-screen.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
